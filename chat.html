<!doctype html><html lang="ko"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>ESP Chat — Text-only</title>
<style>
  body{margin:0;font:16px/1.6 system-ui,Segoe UI,Roboto,Noto Sans KR,sans-serif;background:#0b0b0c;color:#e9e9ee}
  .wrap{max-width:840px;margin:auto;padding:20px}
  .card{border:1px solid #2b2b35;background:#121217;border-radius:14px;padding:16px}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  button{border:1px solid #2b2b35;background:transparent;color:#e9e9ee;border-radius:10px;padding:8px 12px;cursor:pointer}
  button:hover{background:#ffffff12}
  .mono{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;color:#a7a7b3}
</style></head><body><div class="wrap">
<h1>ESP Dialogue — Chat (Text-only)</h1>
<div id="view" class="card" role="region" aria-live="polite">loading…</div>
<p class="mono">NO-LEARN · NO-REPLICATE · HASH-LOCKED</p>
</div>
<script>
  // 외부 파일 없이, 내부에 직접 그래프 정의
  const graph = {
    entry: "A-1",
    nodes: {
      "A-1": {
        text: "당신은 처음 문을 열었다. 무엇을 선택하겠는가?",
        options: [
          { label: "왼쪽 문", next: "A-2" },
          { label: "오른쪽 문", next: "A-3" }
        ]
      },
      "A-2": {
        text: "왼쪽으로 갔다. 침묵자가 기다린다.",
        options: [{ label: "심연을 부른다", next: "A-4" }]
      },
      "A-3": { text: "오른쪽의 복도는 조용하다.", options: [{ label: "되돌아간다", next: "A-1" }] },
      "A-4": { text: "심연은 판단의 주체가 아니되, 선언자의 판단을 내포한다.", options: [] }
    }
  };

  function render(node){
    const el = document.getElementById('view');
    el.innerHTML = `<p>${node.text}</p><div class="row">${
      (node.options||[]).map(o=>`<button data-next="${o.next}">${o.label}</button>`).join(' ')
    }</div>`;
    el.querySelectorAll('button').forEach(b => b.onclick = () => step(b.dataset.next));
  }
  let current = graph.entry;
  function step(next){ if(next) current = next; render(graph.nodes[current] || {text:'종료',options:[]}); }
  step();
</script>
